### 3. 定时执行: cron

## 3.1 cron 使用场景
使用场景: 执行一些周期性job。

## 3.2 cron 语法

cron 语法采用的是 UNIX cron语法，但是有细微的区别。

```
MINUTE HOUR DOM MONTH DOW
```
### 常用5个参数

* MINUTE: 1小时内的分钟，取值范围: 0~59
* HOUR: 1天内的小时，取值范围: 0~23
* DOM: 1个月的某天，取值范围: 1~31
* MONTH: 月份，取值范围: 1~12
* DOW: 星期几，取值范围: 0~7， 0和7代表星期天

### 特殊字符
* \*: 匹配所有的值
* M-N: 匹配 M 到 N 之间的值
* M-N/X or */X: 指定M到N范围内，以X值为步长
* A,B,...,Z: 使用逗号枚举多个值


### H (Hash)参数

一些大型项目中，可能存在大量同1时刻执行的定时任务，比如N个半夜0点执行的任务，这样会产生负载不均衡。

cron 中可使用 "H"(Hash) 来解决这一问题。

H: 所在范围内任一时刻。

对于没必要准确到0点0分执行的任务，cron可以写成下面:

```
H 0 * * *
```

表示 零点0分 到 零点59分之间任何1个时间点执行。


`注意`: H 应用在 DOM字段时，会有不准确的情况，因为月份并非每月相等。


## 3.3 Jenkinsfile 中trigger实现定时执行

```
pipeline {
    agent any

    triggers {
        cron('0 0 * * *')
    }
    
    ...

}
```
